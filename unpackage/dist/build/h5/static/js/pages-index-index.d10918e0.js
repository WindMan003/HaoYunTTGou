(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0319":function(t,e,n){"use strict";n.r(e);var i=n("33e5"),a=n("669d");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("6566");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"708999d2",null,!1,i["a"],r);e["default"]=c.exports},"0a7b":function(t,e,n){"use strict";var i={uniTransition:n("5259").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPopup?n("v-uni-view",{staticClass:"uni-popup",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[n("uni-transition",{attrs:{"mode-class":["fade"],styles:t.maskClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}}),n("uni-transition",{attrs:{"mode-class":t.ani,styles:t.transClass,duration:t.duration,show:t.showTrans},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[n("v-uni-view",{class:t.className,on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"0ba2":function(t,e,n){var i=n("7982");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("6776da0a",i,!0,{sourceMap:!1,shadowMode:!1})},"0f42":function(t,e,n){var i=n("4375");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5fe8ddfb",i,!0,{sourceMap:!1,shadowMode:!1})},"11b3":function(t,e,n){var i=n("df35");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("abd26252",i,!0,{sourceMap:!1,shadowMode:!1})},"1a21":function(t,e){},2360:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-numbox",attrs:{id:"UniNumberBox"+t.nameid}},[n("v-uni-view",{staticClass:"uni-numbox__minus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.operationResult("minus")}}},[n("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue<=t.min||t.disabled}},[t._v("-")])],1),n("v-uni-input",{staticClass:"uni-numbox__value",attrs:{disabled:!0,type:"number"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t._onBlur.apply(void 0,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),n("v-uni-view",{staticClass:"uni-numbox__plus",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.operationResult("plus")}}},[n("v-uni-text",{staticClass:"uni-numbox--text",class:{"uni-numbox--disabled":t.inputValue>=t.max||t.disabled}},[t._v("+")])],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"24d4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{priceSize:{type:String,default:"font-28"},unitSize:{type:String,default:"font-28"}}};e.default=i},"29c5":function(t,e,n){"use strict";n.r(e);var i=n("83ee"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"33e5":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.text?n("v-uni-text",{staticClass:"uni-badge",class:t.inverted?"uni-badge-"+t.type+" uni-badge--"+t.size+" uni-badge-inverted":"uni-badge-"+t.type+" uni-badge--"+t.size,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick()}}},[t._v(t._s(t.text))]):t._e()},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"39e8":function(t,e,n){"use strict";n.r(e);var i=n("546b"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"3cb8":function(t,e,n){"use strict";var i={uniPopup:n("9156").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-popup",{ref:"popup",attrs:{type:"bottom",className:"uni-popup__wrapper-box-cart"}},[n("v-uni-view",{staticClass:"d-flex w-100",staticStyle:{"background-color":"#FFFFFF","border-radius":"3%","max-height":"880rpx","min-height":"360rpx"}},[n("v-uni-view",{staticClass:"d-flex flex-column w-100"},[n("v-uni-view",{staticClass:"d-flex a-center border-bottom j-center w-100",staticStyle:{width:"100%",height:"70rpx"}},[n("v-uni-text",{staticClass:"font-28 position-absolute",staticStyle:{right:"15rpx",color:"#007AFF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearCart.apply(void 0,arguments)}}},[t._v("清空购物车")]),n("v-uni-text",{staticClass:"font-28 position-absolute",staticStyle:{left:"15rpx",color:"#007AFF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteCart.apply(void 0,arguments)}}},[t._v(t._s(t.getDeleteBtnTitle))])],1),n("v-uni-scroll-view",{staticStyle:{"max-height":"720rpx","min-height":"200rpx"},attrs:{"scroll-y":!0}},[t._l(t.cartGoodsList,(function(e,i){return[n("v-uni-view",{key:i+"_0",staticClass:"row ml-3 mt-2 mt-1 mb-1"},[n("v-uni-view",{staticClass:"main-bg-color-w",staticStyle:{flex:"0 0 150rpx",height:"150rpx","border-radius":"8rpx"}},[n("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.TitleImgUrl,mode:"aspectFit"}})],1),n("v-uni-view",{staticClass:"d-flex flex-column ml-2 flex-1 position-relative"},[n("v-uni-view",{staticClass:"font-32 font-weight"},[t._v(t._s(e.ProductName))]),n("v-uni-view",{staticClass:"font-24 mb-auto"},[t._v(t._s(t.getSpecStr(e)))]),n("v-uni-view",{staticClass:"font-weight"},[n("price",[t._v(t._s(e.Price*e.Count))])],1),n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"10rpx",bottom:"10rpx","z-index":"16"}},[n("hx-number-box",{attrs:{value:e.Count,nameid:e.ProductID,tasteId:e.TasteID,specId:e.SpecificationID}})],1)],1)],1),n("divider")]}))],2),n("v-uni-view",{staticStyle:{width:"100%",height:"90rpx"}})],1)],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},4375:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-transition[data-v-96b24cf6]{-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.3s;transition-duration:.3s;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.fade-in[data-v-96b24cf6]{opacity:0}.fade-active[data-v-96b24cf6]{opacity:1}.slide-top-in[data-v-96b24cf6]{\n\t/* transition-property: transform, opacity; */-webkit-transform:translateY(-100%);transform:translateY(-100%)}.slide-top-active[data-v-96b24cf6]{-webkit-transform:translateY(0);transform:translateY(0)\n\t/* opacity: 1; */}.slide-right-in[data-v-96b24cf6]{-webkit-transform:translateX(100%);transform:translateX(100%)}.slide-right-active[data-v-96b24cf6]{-webkit-transform:translateX(0);transform:translateX(0)}.slide-bottom-in[data-v-96b24cf6]{-webkit-transform:translateY(100%);transform:translateY(100%)}.slide-bottom-active[data-v-96b24cf6]{-webkit-transform:translateY(0);transform:translateY(0)}.slide-left-in[data-v-96b24cf6]{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.slide-left-active[data-v-96b24cf6]{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.zoom-in-in[data-v-96b24cf6]{-webkit-transform:scale(.8);transform:scale(.8)}.zoom-out-active[data-v-96b24cf6]{-webkit-transform:scale(1);transform:scale(1)}.zoom-out-in[data-v-96b24cf6]{-webkit-transform:scale(1.2);transform:scale(1.2)}",""]),t.exports=e},"47b6":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("v-uni-view",{ref:"ani",staticClass:"uni-transition",class:[t.ani.in],style:"transform:"+t.transform+";"+t.stylesObject,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t._t("default")],2):t._e()},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"47d6":function(t,e,n){"use strict";var i=n("5232"),a=n.n(i);a.a},4873:function(t,e,n){"use strict";var i=n("ee27");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o=i(n("7c7f")),r=i(n("9156")),s=i(n("9ee2")),c=i(n("ccf7")),u=n("2f62"),l={components:{divider:o.default,uniPopup:r.default,hxNumberBox:s.default,price:c.default},props:{},data:function(){return{bgHeight:0,scrollH:0,isCreate:!1}},onLoad:function(){},computed:(0,a.default)({},(0,u.mapState)({cartGoodsList:function(t){return t.cart.cartGoodsList},cartId:function(t){return t.cart.cartId},ID:function(t){return t.cart.ID},merchantID:function(t){return t.merchant.merchantID},isCartCreate:function(t){return t.cart.isCartCreate}}),{},(0,u.mapGetters)([]),{getDeleteBtnTitle:function(){return this.isCartCreate?"删除购物车":"退出购物车"}}),methods:(0,a.default)({},(0,u.mapMutations)(["clearCartList","updateCartId","updateOrderID"]),{},(0,u.mapActions)([""]),{showCartPopup:function(){this.$refs.popup.open()},clearCart:function(){var t=this;uni.showModal({title:"提示",content:"确定清空购物车",success:function(e){e.confirm?t.$H.post("/api/Merchant/ClearCart",{MerchantID:t.merchantID,CartID:t.cartId,ID:t.ID},{token:!0}).then((function(e){console.log(e),0===e.status?(t.clearCartList(),t.$refs.popup.onTap()):uni.showToast({title:e.message,icon:"none"})})):e.cancel&&console.log("用户点击取消")}})},deleteCart:function(){var t=this;t.isCartCreate?uni.showModal({title:"提示",content:"确定删除购物车",success:function(e){e.confirm?t.$H.post("/api/Merchant/DeleteShoppingCart",{MerchantID:t.merchantID,CartID:t.cartId,ID:t.ID},{token:!0}).then((function(e){console.log(e),0==e.status?(t.clearCartList(),t.updateCartId(0),t.updateOrderID(0),t.$refs.popup.onTap()):uni.showToast({title:e.message,icon:"none"})})):e.cancel&&console.log("用户点击取消")}}):uni.showModal({title:"提示",content:"确定退出购物车",success:function(e){e.confirm?(t.clearCartList(),t.updateCartId(0),t.updateOrderID(0),t.$refs.popup.onTap()):e.cancel&&console.log("用户点击取消")}})},getSpecStr:function(t){var e=t.TasteName?t.TasteName:"",n=t.SpecificationName?t.SpecificationName:"";return e&&n?"规格：".concat(n,"  ").concat(e):n?"规格：".concat(n):e?"口味：".concat(e):""}})};e.default=l},"48b4":function(t,e,n){"use strict";var i=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("fcbe")),o={config:{socketOpen:!1,time:1e3},initWebSocket:function(t,e){var n=this;uni.connectSocket({url:a.default.state.user.appConfig.WebSocketUrl}),uni.onSocketOpen((function(i){n.config.socketOpen=!0,n.config.time=1e3,e&&n.sendSocketMessage(t,e),console.log("WebSocket连接已打开！")})),uni.onSocketError((function(i){console.log("WebSocket连接打开失败，请检查！"),setTimeout((function(){console.log("setTimeout"),n.config.time=n.config.time+2e3,n.initWebSocket(t,e)}),n.config.time)})),uni.onSocketMessage((function(e){console.log("收到服务器内容："+e.data),"connected"!==e.data&&t(JSON.parse(e.data))})),uni.onSocketClose((function(i){console.log("WebSocket 已关闭！"),setTimeout((function(){console.log("setTimeout"),n.config.time=n.config.time+2e3,n.initWebSocket(t,e)}),n.config.time)}))},sendSocketMessage:function(t,e){this.config.socketOpen?uni.sendSocketMessage({data:e}):this.initWebSocket(t,e)},closeSocketNet:function(){this.config.socketOpen&&uni.closeSocket()}};e.default=o},"4ecd":function(t,e,n){"use strict";n.r(e);var i=n("79b9"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},5232:function(t,e,n){var i=n("c2d4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("58d94eff",i,!0,{sourceMap:!1,shadowMode:!1})},5259:function(t,e,n){"use strict";n.r(e);var i=n("47b6"),a=n("39e8");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("9aaf");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"96b24cf6",null,!1,i["a"],r);e["default"]=c.exports},"546b":function(t,e,n){"use strict";var i=n("ee27");n("4160"),n("a9e3"),n("ac1f"),n("5319"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(t){t?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var t=(0,a.default)({},this.styles,{"transition-duration":this.duration/1e3+"s"}),e="";for(var n in t){var i=this.toLine(n);e+=i+":"+t[n]+";"}return e}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var t=this;for(var e in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===e?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[e]," ");this.$nextTick((function(){setTimeout((function(){t._animation(!0)}),50)}))},close:function(t){clearTimeout(this.timer),this._animation(!1)},_animation:function(t){var e=this,n=this.getTranfrom(t);for(var i in this.transform="",n)"opacity"===i?this.ani.in="fade-".concat(t?"out":"in"):this.transform+="".concat(n[i]," ");this.timer=setTimeout((function(){t||(e.isShow=!1),e.$emit("change",{detail:e.isShow})}),this.duration)},getTranfrom:function(t){var e={transform:""};return this.modeClass.forEach((function(n){switch(n){case"fade":e.opacity=t?1:0;break;case"slide-top":e.transform+="translateY(".concat(t?"0":"-100%",") ");break;case"slide-right":e.transform+="translateX(".concat(t?"0":"100%",") ");break;case"slide-bottom":e.transform+="translateY(".concat(t?"0":"100%",") ");break;case"slide-left":e.transform+="translateX(".concat(t?"0":"-100%",") ");break;case"zoom-in":e.transform+="scale(".concat(t?1:.8,") ");break;case"zoom-out":e.transform+="scale(".concat(t?1:1.2,") ");break}})),e},_modeClassArr:function(t){var e=this.modeClass;if("string"!==typeof e){var n="";return e.forEach((function(e){n+=e+"-"+t+","})),n.substr(0,n.length-1)}return e+"-"+t},toLine:function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}}};e.default=o},5687:function(t,e,n){"use strict";n.r(e);var i=n("4873"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},5745:function(t,e,n){"use strict";n.r(e);var i=n("f40c"),a=n("f0bb");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"2ce423a0",null,!1,i["a"],r);e["default"]=c.exports},"5f8f":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"divider"})},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},6407:function(t,e,n){"use strict";n.r(e);var i=n("3cb8"),a=n("5687");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"387ea816",null,!1,i["a"],r);e["default"]=c.exports},"649e0":function(t,e,n){"use strict";n.r(e);var i=n("80b3"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},6566:function(t,e,n){"use strict";var i=n("11b3"),a=n.n(i);a.a},"669d":function(t,e,n){"use strict";n.r(e);var i=n("b7ea"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"6b63":function(t,e,n){"use strict";var i=n("0ba2"),a=n.n(i);a.a},"719b":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"\n.uni-numbox[data-v-01305a69]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;height:25px;line-height:25px;width:90px}.uni-numbox__value[data-v-01305a69]{background-color:#fff;width:30px;height:25px;text-align:center;font-size:%?28?%;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;border-left-width:0;border-right-width:0}.uni-numbox__minus[data-v-01305a69]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25px;height:25px;\n\t\t/* line-height: $box-line-height;\n */\n\t\t/* text-align: center;\n */font-size:18px;color:#333;background-color:#f8f8f8;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;-webkit-border-top-left-radius:%?6?%;border-top-left-radius:%?6?%;-webkit-border-bottom-left-radius:%?6?%;border-bottom-left-radius:%?6?%;border-right-width:0}.uni-numbox__plus[data-v-01305a69]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:25px;height:25px;border-width:%?1?%;border-style:solid;border-color:#e5e5e5;-webkit-border-top-right-radius:%?6?%;border-top-right-radius:%?6?%;-webkit-border-bottom-right-radius:%?6?%;border-bottom-right-radius:%?6?%;background-color:#f8f8f8;border-left-width:0}.uni-numbox--text[data-v-01305a69]{font-size:%?38?%;color:#333}.uni-numbox--disabled[data-v-01305a69]{color:silver}",""]),t.exports=e},7982:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-popup[data-v-31c305dc]{position:fixed;\r\ntop:var(--window-top);\r\n\r\n\r\nbottom:0;left:0;right:0;\r\nz-index:99\n}.uni-popup__mask[data-v-31c305dc]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-31c305dc]{-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-31c305dc]{opacity:1}.uni-bottom-mask[data-v-31c305dc]{opacity:1}.uni-center-mask[data-v-31c305dc]{opacity:1}.uni-popup__wrapper[data-v-31c305dc]{\r\ndisplay:block;\r\nposition:absolute}.top[data-v-31c305dc]{top:0;left:0;right:0;-webkit-transform:translateY(-500px);transform:translateY(-500px)}.bottom[data-v-31c305dc]{bottom:0;left:0;right:0;-webkit-transform:translateY(500px);transform:translateY(500px)}.center[data-v-31c305dc]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\nbottom:0;left:0;right:0;top:0;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-31c305dc]{\r\ndisplay:block;\r\nposition:relative}.uni-popup__wrapper-box-goods-spec[data-v-31c305dc]{\r\ndisplay:block;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:92%}.uni-popup__wrapper-box-cart[data-v-31c305dc]{\r\ndisplay:block;\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;width:100%}.content-ani[data-v-31c305dc]{\r\n\t/* transition: transform 0.3s;\r\n */-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-31c305dc]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-31c305dc]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-31c305dc]{-webkit-transform:scale(1);transform:scale(1);opacity:1}",""]),t.exports=e},"79b9":function(t,e,n){"use strict";var i=n("ee27");n("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o=i(n("9ee2")),r=i(n("9156")),s=i(n("ccf7")),c=n("2f62"),u={components:{uniPopup:r.default,price:s.default,hxNumberBox:o.default},props:{},data:function(){return{goodsList:null,goodsId:0,tasteId:0,specId:0,tasteIndex:0,specificationIndex:0,chooseState:!1}},computed:(0,a.default)({},(0,c.mapState)({nowChooseCount:function(t){return t.cart.nowChooseCount},chooseTotalPrice:function(t){return t.cart.chooseTotalPrice},isManyPeople:function(t){return t.merchant.isManyPeople},cartId:function(t){return t.cart.cartId},merchantID:function(t){return t.merchant.merchantID},tableID:function(t){return t.merchant.tableID}}),{},(0,c.mapGetters)(["getGoodsCount","getGoodsIdList"]),{getChooseColor:function(){return"background: #FFEFD5; border-color: #FF8C00; color: #FF8C00;"},getSelectedStr:function(){var t=null,e=null;return this.goodsList&&(this.goodsList.TasteList&&(t=this.goodsList.TasteList[this.tasteIndex].Name),this.goodsList.Specifications&&(e=this.goodsList.Specifications[this.specificationIndex].Name)),t&&e?"已选规格：".concat(t,"  ").concat(e):e&&!t?"已选规格：".concat(e):"已选口味：".concat(t)},getGoodsPrice:function(){if(0!==this.chooseTotalPrice)return this.chooseTotalPrice;if(this.goodsList){if(this.goodsList.Specifications)return this.goodsList.Specifications[this.specificationIndex].Price;if(!this.goodsList.Specifications&&this.goodsList.TasteList)return this.goodsList.Price}}}),methods:(0,a.default)({},(0,c.mapMutations)(["initID"]),{},(0,c.mapActions)(["operationCartGoods","updateSpecDateFunc","updateCartIdFunc"]),{tasteChoose:function(t){this.tasteId=this.goodsList.TasteList[t].ID,this.tasteIndex=t,this.updateGoodsCountBySpec()},specificationChoose:function(t){this.specId=this.goodsList.Specifications[t].ID,this.specificationIndex=t,this.updateGoodsCountBySpec()},showPopup:function(t){this.tasteIndex=0,this.specificationIndex=0,this.tasteId=0,this.specId=0,this.goodsId=t,this.goodsList=this.getGoodsIdList(t),this.goodsList.TasteList&&(this.tasteId=this.goodsList.TasteList[this.tasteIndex].ID),this.goodsList.Specifications&&(this.specId=this.goodsList.Specifications[this.specificationIndex].ID),this.updateGoodsCountBySpec(),this.$refs.popup.open()},updateGoodsCountBySpec:function(){this.updateSpecDateFunc({goodsId:this.goodsId,tasteId:this.tasteId,specId:this.specId})},addGoodsTouch:function(){this.operationResult("plus")},subGoodsTouch:function(){this.operationResult("minus")},operationResult:function(t){var e=this;this.isManyPeople&&0===this.cartId?this.$emit("createid"):this.isManyPeople||0!==this.cartId?this.addOrSunGoodsCount(t):this.$H.post("/api/Merchant/CreateShoppingCart",{MerchantID:this.merchantID,TableID:this.tableID},{token:!0}).then((function(n){0==n.status?(e.updateCartIdFunc(n.data.CartID),e.initID(n.data.ID),e.addOrSunGoodsCount(t)):uni.showToast({title:n.message,icon:"none"})}))},addOrSunGoodsCount:function(t){this.operationCartGoods({operationStr:t,nameid:this.goodsList.ID,tasteId:this.tasteId,specId:this.specId,merchantID:this.merchantID})}})};e.default=u},"7a65":function(t,e,n){"use strict";n.r(e);var i=n("1a21"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"7b8f":function(t,e,n){"use strict";n.r(e);var i=n("24d4"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"7c7f":function(t,e,n){"use strict";n.r(e);var i=n("5f8f"),a=n("7a65");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("47d6");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"08016422",null,!1,i["a"],r);e["default"]=c.exports},"80b3":function(t,e,n){"use strict";var i=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5259")),o={name:"UniPopup",components:{uniTransition:a.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},className:{type:String,default:"uni-popup__wrapper-box"},maskClick:{type:Boolean,default:!0}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0}}},watch:{type:{handler:function(t){switch(this.type){case"top":this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0};break;case"bottom":this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0};break;case"center":this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"};break}},immediate:!0}},created:function(){this.animation?this.duration=300:this.duration=0},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick((function(){clearTimeout(t.timer),t.timer=setTimeout((function(){t.showTrans=!0}),50)})),this.$emit("change",{show:!0})},close:function(t){var e=this;this.showTrans=!1,this.$nextTick((function(){clearTimeout(e.timer),e.timer=setTimeout((function(){e.$emit("change",{show:!1}),e.showPopup=!1}),300)}))},onTap:function(){this.maskClick&&this.close()}}};e.default=o},"83ee":function(t,e,n){"use strict";var i=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o=i(n("48b4")),r=n("2f62"),s={components:{},props:{},data:function(){return{inputCartId:0}},computed:(0,a.default)({},(0,r.mapState)({cartId:function(t){return t.cart.cartId},merchantID:function(t){return t.merchant.merchantID},tableID:function(t){return t.merchant.tableID},appConfig:function(t){return t.user.appConfig}}),{},(0,r.mapGetters)([])),methods:(0,a.default)({},(0,r.mapMutations)(["updateCartGoodsList","updateOrderID","initIsCartCreate","initID"]),{},(0,r.mapActions)(["updateCartIdFunc"]),{showPopup:function(){this.$refs.popup.open()},cartIdInput:function(t){this.inputCartId=t.detail.value},joinCart:function(){var t=this;0===this.inputCartId?uni.showToast({title:"请输入4位购物车ID",icon:"none",duration:1e3}):(uni.showLoading({title:"加入中..."}),this.$H.post("/api/Merchant/SelectCart",{MerchantID:this.merchantID,CartID:this.inputCartId},{token:!0}).then((function(e){uni.hideLoading(),console.log(e),0===e.status?(t.updateCartIdFunc(e.data.CartID),t.initID(e.data.ID),t.syncCartList(e.data),t.connectWebsocket(),t.updateOrderID(0),t.initIsCartCreate(!1),t.$refs.popup.onTap()):uni.showToast({title:e.message,icon:"none"})})))},createCart:function(){var t=this;uni.showLoading({title:"创建中..."}),this.$H.post("/api/Merchant/CreateShoppingCart",{MerchantID:this.merchantID,TableID:this.tableID},{token:!0}).then((function(e){uni.hideLoading(),console.log(e),0===e.status?(t.updateCartIdFunc(e.data.CartID),t.initID(e.data.ID),t.connectWebsocket(),t.updateOrderID(0),t.initIsCartCreate(!0),t.$refs.popup.onTap()):uni.showToast({title:e.message,icon:"none"})}))},connectWebsocket:function(){o.default.initWebSocket(this.syncCartList,JSON.stringify({action:"addToGroup",groupName:this.merchantID+"_"+this.cartId}))},syncCartList:function(t){console.log(t),this.updateCartGoodsList(t.Products)}})};e.default=s},"8bef":function(t,e,n){"use strict";n.r(e);var i=n("c2ba"),a=n("29c5");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"66174adf",null,!1,i["a"],r);e["default"]=c.exports},"8c5c":function(t,e,n){"use strict";n.r(e);var i=n("a66f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"8fe4":function(t,e,n){var i=n("719b");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("12cee04a",i,!0,{sourceMap:!1,shadowMode:!1})},9156:function(t,e,n){"use strict";n.r(e);var i=n("0a7b"),a=n("649e0");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("6b63");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"31c305dc",null,!1,i["a"],r);e["default"]=c.exports},"94c1":function(t,e,n){"use strict";n.r(e);var i=n("ac82"),a=n("4ecd");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"5229a310",null,!1,i["a"],r);e["default"]=c.exports},"9aaf":function(t,e,n){"use strict";var i=n("0f42"),a=n.n(i);a.a},"9ee2":function(t,e,n){"use strict";n.r(e);var i=n("2360"),a=n("8c5c");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("e5de");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"01305a69",null,!1,i["a"],r);e["default"]=c.exports},a66f:function(t,e,n){"use strict";var i=n("ee27");n("a9e3"),n("ac1f"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o=n("2f62"),r={name:"UniNumberBox",props:{value:{type:[Number,String],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},nameid:{type:Number,default:0},tasteId:{type:Number,default:0},specId:{type:Number,default:0}},data:function(){return{clickTime:100,inputValue:0,touchType:"",productsList:[]}},watch:{value:function(t){this.inputValue=+t},inputValue:function(t,e){+t!==+e&&this.$emit("change",this.productsList)}},created:function(){this.inputValue=+this.value},computed:(0,a.default)({},(0,o.mapState)({cartId:function(t){return t.cart.cartId},isManyPeople:function(t){return t.merchant.isManyPeople},merchantID:function(t){return t.merchant.merchantID},tableID:function(t){return t.merchant.tableID}}),{},(0,o.mapGetters)([])),methods:(0,a.default)({},(0,o.mapMutations)(["initID"]),{},(0,o.mapActions)(["operationCartGoods","updateCartIdFunc"]),{operationResult:function(t){var e=this;this.isManyPeople&&0===this.cartId?this.$emit("createid"):this.isManyPeople||0!==this.cartId?this.addOrSunGoodsCount(t):this.$H.post("/api/Merchant/CreateShoppingCart",{MerchantID:this.merchantID,TableID:this.tableID},{token:!0}).then((function(n){0==n.status?(e.updateCartIdFunc(n.data.CartID),e.initID(n.data.ID),e.addOrSunGoodsCount(t)):uni.showToast({title:n.message,icon:"none"})}))},addOrSunGoodsCount:function(t){this.inputValue<=0&&"minus"===t||this.operationCartGoods({operationStr:t,nameid:this.nameid,tasteId:this.tasteId,specId:this.specId,merchantID:this.merchantID})},_calcValue:function(t){if(!this.disabled){var e=this._getDecimalScale(),n=this.inputValue*e,i=this.step*e;if("minus"===t){if(n-=i,n<this.min*e)return;n>this.max*e&&(n=this.max*e)}else if("plus"===t){if(n+=i,n>this.max*e)return;n<this.min*e&&(n=this.min*e)}this.inputValue=String(n/e)}},_getDecimalScale:function(){var t=1;return~~this.step!==this.step&&(t=Math.pow(10,(this.step+"").split(".")[1].length)),t},_onBlur:function(t){var e=t.detail.value;e&&(e=+e,e>this.max?e=this.max:e<this.min&&(e=this.min),this.inputValue=e)}})};e.default=r},ab68:function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"d-flex",class:t.priceSize,staticStyle:{color:"#FF582B"}},[n("v-uni-text",{staticClass:"a-self-start mr",class:t.unitSize},[t._v("¥")]),t._t("default")],2)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},ac82:function(t,e,n){"use strict";var i={uniPopup:n("9156").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-popup",{ref:"popup",attrs:{type:"center",className:"uni-popup__wrapper-box-goods-spec"}},[n("v-uni-view",{staticClass:"d-flex a-center j-center w-100",staticStyle:{height:"100%"}},[n("v-uni-view",{staticClass:"border w-100",staticStyle:{height:"100%","background-color":"#FFFFFF","border-radius":"3%"}},[n("v-uni-view",{staticClass:"ml-3 mr-3"},[n("v-uni-view",{staticClass:"mt-2 font-38 font-weight"},[t._v(t._s(t.goodsList.Name))]),t.goodsList.TasteList?[n("v-uni-view",{staticClass:"mt-2 font-24"},[t._v("口味")]),n("v-uni-view",{staticClass:"mt-1 d-flex flex-wrap"},t._l(t.goodsList.TasteList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mb-2 mr-3 p-1 border span24-6 font-24 text-center",staticStyle:{"border-radius":"10rpx"},style:t.tasteIndex===i?t.getChooseColor:"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tasteChoose(i)}}},[n("v-uni-text",{staticClass:"d-flex a-center j-center"},[t._v(t._s(e.Name))])],1)})),1)]:t._e(),t.goodsList.Specifications?[n("v-uni-view",{staticClass:"mt-2 font-24"},[t._v("规格")]),n("v-uni-view",{staticClass:"mt-1 d-flex flex-wrap"},t._l(t.goodsList.Specifications,(function(e,i){return n("v-uni-view",{key:i,staticClass:"mb-2 mr-3 p-1 border span24-6 font-24 text-center",staticStyle:{"border-radius":"10rpx"},style:t.specificationIndex===i?t.getChooseColor:"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.specificationChoose(i)}}},[n("v-uni-text",{staticClass:"d-flex a-center j-center"},[t._v(t._s(e.Name))])],1)})),1)]:t._e()],2),n("v-uni-view",{staticClass:"mt-3 border-bottom border-top w-100 d-flex a-center",staticStyle:{height:"80rpx",background:"#EEEEEE"}},[n("v-uni-text",{staticClass:"ml-3 font-28"},[t._v(t._s(t.getSelectedStr))])],1),n("v-uni-view",{staticClass:"pb-1 mt-3 mb-2 d-flex a-center position-relative w-100"},[n("v-uni-view",{staticClass:"ml-3"},[n("price",[t._v(t._s(t.getGoodsPrice))])],1),0===t.nowChooseCount?n("v-uni-view",{staticClass:"position-absolute border pl-2 pr-2",staticStyle:{right:"10rpx",background:"#FFA500","border-radius":"10rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addGoodsTouch.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"font-28"},[t._v("加入购物车")])],1):n("v-uni-view",{staticClass:"position-absolute pl-2 pr-2",staticStyle:{right:"10rpx"}},[n("hx-number-box",{attrs:{value:t.nowChooseCount,nameid:t.goodsId,tasteId:t.tasteId,specId:t.specId}})],1)],1)],1)],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},af8c:function(t,e,n){"use strict";var i=n("ee27");n("4de4"),n("4160"),n("26e9"),n("ac1f"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("f3f3")),o=i(n("9ee2")),r=i(n("ccf7")),s=i(n("94c1")),c=i(n("6407")),u=i(n("8bef")),l=i(n("0319")),d=i(n("48b4")),f=n("2f62"),p={components:{hxNumberBox:o.default,price:r.default,goodsPopup:s.default,cartPopup:c.default,createCartidPopup:u.default,uniBadge:l.default},props:{},data:function(){return{zindex:90,showCartDrawer:!1,showPopup:!1,scrollH:500,tabIndex:0,currentId:1,categoryList:[],goodsList:[],tabScrollTop:0,sizeCalcState:!1,isFirst:!0,tabs:[{name:"商品"}]}},onLoad:function(t){var e=this;console.log(t),t=decodeURIComponent(t),t.MerchantID?(console.log("true"),this.updateMerchantID(t.MerchantID),this.updateTableID(t.TableID)):(console.log("false"),this.updateMerchantID("1"),this.updateTableID("1")),uni.getSystemInfo({success:function(t){e.scrollH=t.windowHeight-uni.upx2px(80)}}),this.getConfigData()},destroyed:function(){d.default.closeSocketNet()},computed:(0,a.default)({},(0,f.mapState)({loginStatus:function(t){return t.user.loginStatus},totalCart:function(t){return t.cart.totalCart},cartGoodsList:function(t){return t.cart.cartGoodsList},cartId:function(t){return t.cart.cartId},merchantID:function(t){return t.merchant.merchantID},tableID:function(t){return t.merchant.tableID},isManyPeople:function(t){return t.merchant.isManyPeople},signkey:function(t){return t.user.signkey}}),{},(0,f.mapGetters)(["getGoodsCount","getGoodsTypeCount","getCartCount","totalPrice"]),{getFilePaths:function(){for(var t=this.goodsList,e=[],n=0;n<t.length;n++)e.push(t[n].TitleImgUrl);return e}}),methods:(0,a.default)({},(0,f.mapMutations)(["login","updateCartGoodsList","initAppconfig","updateMerchantID","updateTableID","updateMerchantInfo","updateMerchantStatus"]),{},(0,f.mapActions)(["updateAllGoodsListFunc","updateManyPeopleFunc","updateCartIdFunc"]),{getConfigData:function(){var t=this,e=Math.ceil(10*Math.random()),n={websocket:e},i=this.$Common.sort_ascii(n,this.signkey);t.$H.post("/api/config/GetAppConfig",{websocket:e,sign:i}).then((function(e){console.log(e),0==e.status&&(t.initAppconfig(e.data),"1.0.1"==e.data.isWxShenhe?(console.log("shenhe"),t.initlogin()):(console.log("no-shenhe"),t.weixinLogin()))}))},getLink:function(){var t="https://www.baidu.com/";return console.log(t),t},initlogin:function(){var t=this;t.$H.post("/api/user/login",{WxCode:"",account:"oXX8h5eLxRkpw4QDz8RD7w1LwYNI",password:"F3E2331369E6C06C1776274ED7F0A891"}).then((function(e){console.log(e),0==e.status&&(t.login(e.data),t.initMerchantConfig())}))},weixinLogin:function(){var t=this;uni.showLoading({title:"登陆中..."}),uni.login({provider:"weixin",success:function(e){console.log(e),uni.showLoading({title:"登陆中..."}),t.$H.post("/api/user/login",{WxCode:e.code,account:e.code,password:e.code}).then((function(e){console.log(e),uni.hideLoading(),0==e.status&&(t.login(e.data),t.initMerchantConfig())}))}})},initMerchantConfig:function(){var t=this;t.$H.post("/api/Merchant/GetMerchantConfig",{MerchantID:t.merchantID},{token:!0}).then((function(e){console.log(e),0==e.status&&(0==e.data.OpenMultiplayerBuy?t.updateManyPeopleFunc(!1):1==e.data.OpenMultiplayerBuy&&t.updateManyPeopleFunc(!0),t.updateMerchantStatus(e.data),t.syncGoodsInfo())}))},syncGoodsInfo:function(){var t=this;t.$H.post("/api/Merchant/ProductList",{MerchantID:t.merchantID},{token:!0}).then((function(e){if(console.log(e),0==e.status){var n=e.data;n.ProductTypeList.forEach((function(t,e){t.indexId=e+1,t.number=0})),n.ProductList.forEach((function(t,e){t.id=e+1})),t.categoryList=n.ProductTypeList,t.goodsList=n.ProductList,t.updateAllGoodsListFunc(t.goodsList),t.getMerchantInfo()}}))},getMerchantInfo:function(){var t=this,e={id:t.merchantID};t.$H.post("/api/merchant/Intro",e).then((function(e){console.log(e),0==e.status&&t.updateMerchantInfo(e.data)}))},previewImage:function(t){var e=this.getFilePaths;uni.previewImage({current:t,urls:e,indicator:"number",loop:!0})},choosePopup:function(t){this.zindex=90,this.$refs.goodspopup.showPopup(t)},openCartDetail:function(){0!=this.cartId?(this.zindex=100,this.$refs.cartpopup.showCartPopup()):uni.showToast({title:"您还没有点餐",icon:"none"})},openCreateCartId:function(){this.$refs.creatidpopup.showPopup()},toSettlement:function(){this.cartGoodsList.length>0?uni.navigateTo({url:"../payment/payment?cartID="+this.cartId}):uni.showToast({title:"您还没有点餐",icon:"none"})},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.changeTab(t.detail.current)},showCategory:function(t){var e=this;this.isFirst?(this.isFirst=!1,this.calcSize(),setTimeout((function(){e.showCategory(t)}),200)):(this.currentId=t.indexId,this.tabScrollTop=this.categoryList[t.indexId-1].top+5)},asideScroll:function(t){var e=this;if(e.isFirst)e.isFirst=!1,e.calcSize();else{var n=Math.round(t.detail.scrollTop),i=e.categoryList.filter((function(t){return t.top<=n})).reverse();i.length>0&&(e.currentId=i.length)}},calcSize:function(){var t=this,e=0;this.categoryList.forEach((function(n){if(!t.sizeCalcState){var i=uni.createSelectorQuery().select("#goodsBox"+n.indexId);i.fields({size:!0},(function(i){n.top=e,e+=Math.round(i.height),n.bottom=e,t.sizeCalcState=!0})).exec()}}))}})};e.default=p},b7ea:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniBadge",props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},text:{type:[String,Number],default:""},size:{type:String,default:"normal"}},methods:{onClick:function(){this.$emit("click")}}};e.default=i},c2ba:function(t,e,n){"use strict";var i={uniPopup:n("9156").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uni-popup",{ref:"popup",attrs:{type:"center",className:"uni-popup__wrapper-box-goods-spec"}},[n("v-uni-view",{staticClass:"d-flex flex-column w-100",staticStyle:{height:"500rpx","background-color":"#FFFFFF","border-radius":"3%"}},[n("v-uni-view",{staticClass:"w-100 border-bottom text-center font-36 font-weight mt-2",staticStyle:{height:"90rpx"}},[t._v("加入/创建购物车")]),n("v-uni-view",{staticClass:"text-center mt-1 font-28 w-100"},[t._v("加入其他人的购物车")]),n("v-uni-view",{staticClass:"d-flex j-center mt-2"},[n("v-uni-view",{staticClass:"p-1",staticStyle:{width:"35%"}},[n("v-uni-input",{staticClass:"text-center border-bottom font-28",attrs:{type:"number","confirm-type":"done",focus:"true",value:"",placeholder:"输入4位购物车ID",maxlength:"4"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.cartIdInput.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"border text-center font-28 font-weight p",staticStyle:{background:"#FFA500","border-radius":"10rpx",width:"160rpx",color:"#FFFFFF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.joinCart.apply(void 0,arguments)}}},[t._v("点击加入")])],1),n("v-uni-view",{staticClass:"ml-3 mt-3 font-28 w-100 text-center"},[t._v("tips:或者点击创建按钮创建自己的购物车")]),n("v-uni-view",{staticClass:"d-flex a-center j-center mt-2"},[n("v-uni-view",{staticClass:"border text-center font-40 font-weight p-1",staticStyle:{background:"#FFA500","border-radius":"10rpx",width:"200rpx",color:"#FFFFFF"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createCart.apply(void 0,arguments)}}},[t._v("创建")])],1)],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},c2d4:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".divider[data-v-08016422]{width:100%;height:%?2?%;background:#dee2e6}",""]),t.exports=e},ccf7:function(t,e,n){"use strict";n.r(e);var i=n("ab68"),a=n("7b8f");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"781d2cb5",null,!1,i["a"],r);e["default"]=c.exports},df35:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".uni-badge[data-v-708999d2]{font-family:Helvetica Neue,Helvetica,sans-serif;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:12px;line-height:1;display:inline-block;padding:3px 6px;color:#333;-webkit-border-radius:100px;border-radius:100px;background-color:#f1f1f1}.uni-badge.uni-badge-inverted[data-v-708999d2]{padding:0 5px 0 0;color:#999;background-color:transparent}.uni-badge-primary[data-v-708999d2]{color:#fff;background-color:#007aff}.uni-badge-primary.uni-badge-inverted[data-v-708999d2]{color:#007aff;background-color:transparent}.uni-badge-success[data-v-708999d2]{color:#fff;background-color:#4cd964}.uni-badge-success.uni-badge-inverted[data-v-708999d2]{color:#4cd964;background-color:transparent}.uni-badge-warning[data-v-708999d2]{color:#fff;background-color:#f0ad4e}.uni-badge-warning.uni-badge-inverted[data-v-708999d2]{color:#f0ad4e;background-color:transparent}.uni-badge-error[data-v-708999d2]{color:#fff;background-color:#dd524d}.uni-badge-error.uni-badge-inverted[data-v-708999d2]{color:#dd524d;background-color:transparent}.uni-badge--small[data-v-708999d2]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:center center;transform-origin:center center}",""]),t.exports=e},e5de:function(t,e,n){"use strict";var i=n("8fe4"),a=n.n(i);a.a},f0bb:function(t,e,n){"use strict";n.r(e);var i=n("af8c"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},f40c:function(t,e,n){"use strict";var i={uniBadge:n("0319").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"w-100 main-bg-color border-bottom position-relative",staticStyle:{height:"80rpx"}},[n("v-uni-view",{staticClass:"d-flex flex-row"},t._l(t.tabs,(function(e,i){return n("v-uni-view",{key:i,staticClass:"d-flex flex-row a-center j-center font-32",staticStyle:{width:"120rpx",height:"80rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab(i)}}},[n("v-uni-text",{class:t.tabIndex===i?"border-bottom-6 font-weight":"main-text-color"},[t._v(t._s(e.name))])],1)})),1)],1),n("v-uni-swiper",{style:"height:"+t.scrollH+"px;",attrs:{duration:150,current:t.tabIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeTab.apply(void 0,arguments)}}},[n("v-uni-swiper-item",{staticClass:"swiper-item"},[n("v-uni-view",{staticClass:"d-flex flex-row w-100"},[n("v-uni-scroll-view",{staticClass:"left-bg-color",staticStyle:{width:"24%"},attrs:{"scroll-y":!0}},t._l(t.categoryList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"w-100 d-flex a-center",class:e.indexId===t.currentId?"left-bg-color-hover":"",staticStyle:{height:"90rpx"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.showCategory(e)}}},[n("v-uni-view",{staticClass:"w-100 font-28 text-center position-relative"},[t._v(t._s(e.Name)),t.getGoodsTypeCount(e.ID)>0?n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"5rpx",top:"-25rpx"}},[n("uni-badge",{attrs:{text:t.getGoodsTypeCount(e.ID),type:"error"}})],1):t._e()],1)],1)})),1),n("v-uni-scroll-view",{staticStyle:{left:"24%",width:"76%"},style:"height:"+(t.scrollH-45)+"px;",attrs:{"croll-with-animation":!0,"scroll-y":!0,"scroll-top":t.tabScrollTop},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.asideScroll.apply(void 0,arguments)}}},t._l(t.categoryList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"ml-3 mt",attrs:{id:"goodsBox"+e.indexId}},[n("v-uni-view",{staticClass:"font-32 bg-color-w position-sticky",staticStyle:{height:"70rpx","z-index":"18",top:"0"}},[t._v(t._s(e.Name))]),t._l(t.goodsList,(function(i,a){return e.ID==i.ProductTypeID?n("v-uni-view",{key:a,staticClass:"w-100"},[n("v-uni-view",{staticClass:"d-flex flex-row mt-2",staticStyle:{height:"200rpx"}},[n("v-uni-view",{staticClass:"main-bg-color-w",staticStyle:{width:"170rpx",height:"170rpx","border-radius":"10rpx"}},[n("v-uni-image",{attrs:{src:i.MinTitleImgUrl,mode:"aspectFit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage(a)}}})],1),n("v-uni-view",{staticClass:"d-flex flex-1 flex-column ml-2 position-relative",staticStyle:{height:"180rpx"}},[n("v-uni-view",{staticClass:"font-weight font-32"},[t._v(t._s(i.Name))]),n("v-uni-view",{staticClass:"font-28 text-light-muted mt-1"},[t._v("已售"+t._s(i.SellCount))]),n("v-uni-view",{staticClass:"position-absolute",staticStyle:{bottom:"0"}},[n("v-uni-view",{staticClass:"d-flex flex-row a-end"},[n("v-uni-view",{staticClass:"font-weight"},[n("price",[t._v(t._s(i.Price))])],1),0!=i.OldPrice?n("v-uni-view",{staticClass:"ml font-20 text-light-muted line-through"},[n("v-uni-text",[t._v("￥"+t._s(i.OldPrice))])],1):t._e()],1)],1),i.Specifications||i.TasteList?[n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"0",bottom:"0"}},[n("v-uni-view",{staticClass:"border mr-2 font-28 d-flex a-center j-center pl-4 pr-4",staticStyle:{"border-radius":"5rpx",background:"#FFA500"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.choosePopup(i.ID)}}},[i.Specifications?n("v-uni-text",[t._v("选规格")]):n("v-uni-text",[t._v("选口味")])],1),t.getGoodsCount(i.ID)>0?n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"10rpx",top:"-20rpx"}},[n("uni-badge",{attrs:{text:t.getGoodsCount(i.ID),type:"error"}})],1):t._e()],1)]:[n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"0",bottom:"0","z-index":"16"}},[n("hx-number-box",{attrs:{value:t.getGoodsCount(i.ID),nameid:i.ID},on:{createid:function(e){arguments[0]=e=t.$handleEvent(e),t.openCreateCartId.apply(void 0,arguments)}}})],1)]],2)],1)],1):t._e()}))],2)})),1)],1),n("v-uni-view",{staticClass:"main-bg-color-w d-flex flex-row a-center position-relative",staticStyle:{height:"90rpx"},style:"z-index:"+t.zindex},[n("v-uni-view",{staticClass:"ml-3 position-relative",staticStyle:{width:"80rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openCartDetail.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:"/static/store/cart.png",mode:"widthFix"}}),t.getCartCount>0?n("v-uni-view",{staticClass:"position-absolute",staticStyle:{right:"-15rpx",top:"-5rpx"}},[n("uni-badge",{attrs:{text:t.getCartCount,type:"error"}})],1):t._e()],1),t.isManyPeople&&0!=t.cartId?n("v-uni-view",{staticClass:"ml-4"},[n("v-uni-text",{staticClass:"font-30"},[t._v("购物车ID:"+t._s(t.cartId))])],1):t._e(),t.totalPrice>0?n("v-uni-view",{staticClass:"ml-4"},[n("v-uni-text",{staticClass:"font-30"},[t._v("价格:￥"+t._s(t.totalPrice))])],1):t._e(),t.isManyPeople&&0==t.cartId?t._e():n("v-uni-view",{staticClass:"position-absolute",staticStyle:{height:"90rpx",right:"0"},style:t.totalPrice>0?"background-color: #FFA500":"background-color: #C0C0C0;",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSettlement.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"d-flex a-center pl-2 pr-2 font-32 font-weight",staticStyle:{height:"90rpx"}},[t._v("去结算>>")])],1),t.isManyPeople&&0==t.cartId?n("v-uni-view",{staticClass:"position-absolute",staticStyle:{height:"90rpx","background-color":"#FFA500",right:"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openCreateCartId.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"d-flex a-center pl-2 pr-2 font-32 font-weight",staticStyle:{height:"90rpx"}},[t._v("创建/加入购物车")])],1):t._e()],1),n("goods-popup",{ref:"goodspopup",on:{createid:function(e){arguments[0]=e=t.$handleEvent(e),t.openCreateCartId.apply(void 0,arguments)}}}),n("cart-popup",{ref:"cartpopup"}),t.isManyPeople?[n("create-cartid-popup",{ref:"creatidpopup"})]:t._e()],2),n("v-uni-swiper-item"),n("v-uni-swiper-item")],1)],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))}}]);