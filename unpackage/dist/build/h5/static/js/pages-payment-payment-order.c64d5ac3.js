(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-payment-payment-order"],{"0a87":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{"background-color":"#F5F5F5"},style:"height:"+(t.windowH-90)+"px;"},[i("v-uni-view",{staticClass:"d-flex flex-column j-center a-center"},[i("v-uni-view",{staticClass:"mt-2 font-32 font-weight"},[t._v(t._s(t.merchantInfo.Name))]),i("v-uni-view",{staticClass:"font-24",staticStyle:{color:"#007AFF"}},[t._v("订单号："+t._s(t.orderID))])],1),i("v-uni-view",{staticClass:"d-flex j-center mt-2",staticStyle:{"max-height":"600rpx"}},[i("v-uni-view",{staticClass:"rounded-10 bg-white d-flex flex-column p-1",staticStyle:{width:"94%"}},[i("v-uni-view",{staticClass:"ml-1 font-32 font-weight"},[t._v("订单商品")]),i("v-uni-scroll-view",{style:"max-height:500rpx;",attrs:{"scroll-y":!0}},[t._l(t.orderInfoList,(function(e,n){return[i("v-uni-view",{key:n+"_0",staticClass:"mt-1 d-flex a-center flex-row border-bottom",staticStyle:{height:"50rpx"}},[i("v-uni-view",{staticClass:"ml-1 font-28",staticStyle:{width:"70%"}},[t._v(t._s(e.ProductName)+"x"+t._s(e.Count))]),i("v-uni-view",{},[t._v("￥"+t._s(t.getGoodsPrice(e)))])],1)]}))],2)],1)],1),i("v-uni-view",{staticClass:"d-flex j-center mt-2",staticStyle:{"max-height":"400rpx"}},[i("v-uni-view",{staticClass:"rounded-10 bg-white d-flex flex-column p-1",staticStyle:{width:"94%"}},[i("v-uni-view",{staticClass:"ml-1 font-32 font-weight"},[t._v("选择优惠券")]),i("v-uni-view",{staticClass:"ml-1 mt-1 font-28"},[t._v("无")])],1)],1),i("v-uni-view",{staticClass:"w-100 main-bg-color-w bottom-0 d-flex flex-row position-absolute",staticStyle:{height:"90rpx","margin-bottom":"90rpx"}},[i("v-uni-view",{staticClass:"d-flex flex-row a-center ml-3"},[i("v-uni-text",{staticClass:"font-32"},[t._v("总价：")]),i("v-uni-text",{staticClass:"font-32",staticStyle:{color:"#FF582B"}},[t._v("¥"+t._s(t.getTotalPrice))])],1),i("v-uni-view",{staticClass:"position-absolute",staticStyle:{height:"90rpx","background-color":"#FFA500",right:"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoPayBill.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"d-flex a-center pl-2 pr-2 font-32 font-weight",staticStyle:{height:"90rpx"}},[t._v("确认支付")])],1)],1),i("v-uni-view",{staticClass:"mb-0 position-absolute",staticStyle:{height:"90rpx"}})],1)},a=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},1345:function(t,e,i){"use strict";i.r(e);var n=i("0a87"),o=i("2579");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);var s,r=i("f0c5"),c=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"628b3f4e",null,!1,n["a"],s);e["default"]=c.exports},2579:function(t,e,i){"use strict";i.r(e);var n=i("43b4"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"43b4":function(t,e,i){"use strict";var n=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("f3f3")),a=i("2f62"),s={components:{},data:function(){return{windowH:0,orderID:0,totalPrice:0,orderInfoList:[]}},onLoad:function(t){var e=this;uni.getSystemInfo({success:function(t){e.windowH=t.windowHeight}}),console.log(t),this.orderID=t.orderID,this.initOrderInfo()},computed:(0,o.default)({},(0,a.mapState)({merchantInfo:function(t){return t.merchant.merchantInfo}}),{},(0,a.mapGetters)([]),{getTotalPrice:function(){for(var t=0,e=this.orderInfoList,i=0;i<e.length;i++)t+=e[i].Price*e[i].Count;return this.totalPrice=t,t}}),methods:(0,o.default)({},(0,a.mapMutations)([]),{},(0,a.mapActions)([]),{initOrderInfo:function(){var t=this,e={orderID:t.orderID};t.$H.post("/api/Order/detail",e,{token:!0}).then((function(e){console.log(e),uni.hideLoading(),0==e.status?t.orderInfoList=e.data.ProductList:uni.showToast({title:e.message,icon:"none",duration:1e3})}))},getGoodsPrice:function(t){return t.Count*t.Price},gotoPayBill:function(){var t=this;uni.showLoading({title:"",mask:!0});var e={OrderID:t.orderID,PayType:2,PayChannel:2};t.$H.post("/api/order/PayBill",e,{token:!0}).then((function(e){console.log(e),uni.hideLoading(),0==e.status?uni.navigateTo({url:"./payment-pay?price="+t.totalPrice+"&orderID="+t.orderID}):uni.showToast({title:e.message,icon:"none",duration:1e3})}))}})};e.default=s}}]);