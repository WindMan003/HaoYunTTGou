<view class="main"><view class="w-100 main-bg-color border-bottom position-relative" style="height:80rpx;"><view class="d-flex flex-row"><block wx:for="{{tabs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeTab',[index]]]]]}}" class="d-flex flex-row a-center j-center font-32" style="width:120rpx;height:80rpx;" bindtap="__e"><text class="{{[tabIndex===index?'border-bottom-6 font-weight':'main-text-color']}}">{{''+item.name+''}}</text></view></block></view></view><swiper style="{{('height:'+scrollH+'px;')}}" duration="{{150}}" current="{{tabIndex}}" data-event-opts="{{[['change',[['onChangeTab',['$event']]]]]}}" bindchange="__e"><swiper-item class="swiper-item"><view class="d-flex flex-row w-100"><scroll-view class="left-bg-color" style="width:24%;" scroll-y="{{true}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['showCategory',['$0'],[[['categoryList','',index]]]]]]]}}" class="{{['w-100 d-flex a-center',item.$orig.indexId===currentId?'left-bg-color-hover':'']}}" style="height:90rpx;" bindtap="__e"><view class="w-100 font-28 text-center position-relative">{{''+item.$orig.Name+''}}<block wx:if="{{item.m0>0}}"><view class="position-absolute" style="right:5rpx;top:-25rpx;"><uni-badge vue-id="{{'8dd740cc-1-'+index}}" text="{{item.m1}}" type="error" bind:__l="__l"></uni-badge></view></block></view></view></block></scroll-view><scroll-view style="{{'left:24%;width:76%;'+('height:'+(scrollH-45)+'px;')}}" croll-with-animation="{{true}}" scroll-y="{{true}}" scroll-top="{{tabScrollTop}}" data-event-opts="{{[['scroll',[['asideScroll',['$event']]]]]}}" bindscroll="__e"><block wx:for="{{$root.l2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="ml-3 mt" id="{{'goodsBox'+item.$orig.indexId}}"><view class="font-32 bg-color-w position-sticky" style="height:70rpx;z-index:18;top:0;">{{''+item.$orig.Name+''}}</view><block wx:for="{{item.l1}}" wx:for-item="rowData" wx:for-index="index2" wx:key="index2"><block wx:if="{{item.$orig.ID==rowData.$orig.ProductTypeID}}"><view class="w-100"><view class="d-flex flex-row mt-2" style="height:200rpx;"><view class="main-bg-color-w" style="width:170rpx;height:170rpx;border-radius:10rpx;"><image src="{{rowData.$orig.MinTitleImgUrl}}" lazy-load="true" mode="aspectFit" data-event-opts="{{[['tap',[['previewImage',[index2]]]]]}}" bindtap="__e"></image></view><view class="d-flex flex-1 flex-column ml-2 position-relative" style="height:180rpx;"><view class="font-weight font-32">{{''+rowData.$orig.Name+''}}</view><view class="font-28 text-light-muted mt-1">{{'已售'+rowData.$orig.SellCount+''}}</view><view class="position-absolute" style="bottom:0;"><view class="d-flex flex-row a-end"><view class="font-weight"><price vue-id="{{'8dd740cc-2-'+index+'-'+index2}}" bind:__l="__l" vue-slots="{{['default']}}">{{rowData.$orig.Price}}</price></view><block wx:if="{{rowData.$orig.OldPrice!=0}}"><view class="ml font-20 text-light-muted line-through"><text>{{"￥"+rowData.$orig.OldPrice}}</text></view></block></view></view><block wx:if="{{!isshenhe}}"><block><block wx:if="{{rowData.$orig.Specifications||rowData.$orig.TasteList}}"><block><view class="position-absolute" style="right:0;bottom:0;"><view data-event-opts="{{[['tap',[['choosePopup',['$0'],[[['goodsList','',index2,'ID']]]]]]]}}" class="border mr-2 font-28 d-flex a-center j-center pl-4 pr-4" style="border-radius:5rpx;background:#FFA500;" bindtap="__e"><block wx:if="{{rowData.$orig.Specifications}}"><text>选规格</text></block><block wx:else><text>选口味</text></block></view><block wx:if="{{rowData.m2>0}}"><view class="position-absolute" style="right:10rpx;top:-20rpx;"><uni-badge vue-id="{{'8dd740cc-3-'+index+'-'+index2}}" text="{{rowData.m3}}" type="error" bind:__l="__l"></uni-badge></view></block></view></block></block><block wx:else><block><view class="position-absolute" style="right:0;bottom:0;z-index:16;"><hx-number-box vue-id="{{'8dd740cc-4-'+index+'-'+index2}}" value="{{rowData.m4}}" nameid="{{rowData.$orig.ID}}" data-event-opts="{{[['^createid',[['openCreateCartId']]]]}}" bind:createid="__e" bind:__l="__l"></hx-number-box></view></block></block></block></block></view></view></view></block></block></view></block></scroll-view></view><block wx:if="{{!isshenhe}}"><block><view class="main-bg-color-w d-flex flex-row a-center position-relative" style="{{'height:90rpx;'+('z-index:'+zindex)}}"><view data-event-opts="{{[['tap',[['openCartDetail',['$event']]]]]}}" class="d-flex flex-row a-center" style="width:80%;" bindtap="__e"><view class="ml-3 position-relative" style="width:80rpx;"><image src="/static/store/cart.png" mode="widthFix"></image><block wx:if="{{getCartCount>0}}"><view class="position-absolute" style="right:-15rpx;top:-5rpx;"><uni-badge vue-id="8dd740cc-5" text="{{getCartCount}}" type="error" bind:__l="__l"></uni-badge></view></block></view><block wx:if="{{isManyPeople&&cartId!=0}}"><view class="ml-4"><view class="d-flex flex-row a-center"><text class="font-30">购物车ID:</text><text class="font-30" style="color:#FF582B;">{{cartId}}</text></view></view></block><block wx:if="{{totalPrice>0}}"><view class="ml-4"><view class="d-flex flex-row a-center"><text class="font-30">价格:</text><text class="font-30" style="color:#FF582B;">{{"￥"+totalPrice}}</text></view></view></block></view><block wx:if="{{!isManyPeople||cartId!=0}}"><view data-event-opts="{{[['tap',[['toSettlement',['$event']]]]]}}" class="position-absolute" style="{{'height:90rpx;right:0;'+(totalPrice>0?'background-color: #FFA500':'background-color: #C0C0C0;')}}" bindtap="__e"><view class="d-flex a-center pl-2 pr-2 font-32 font-weight" style="height:90rpx;color:#FFFFFF;">去结算>></view></view></block><block wx:if="{{isManyPeople&&cartId==0}}"><view data-event-opts="{{[['tap',[['openCreateCartId',['$event']]]]]}}" class="position-absolute" style="height:90rpx;background-color:#FFA500;right:0;" bindtap="__e"><view class="d-flex a-center pl-2 pr-2 font-32 font-weight" style="height:90rpx;">创建/加入购物车</view></view></block></view></block></block><goods-popup class="vue-ref" bind:createid="__e" vue-id="8dd740cc-6" data-ref="goodspopup" data-event-opts="{{[['^createid',[['openCreateCartId']]]]}}" bind:__l="__l"></goods-popup><cart-popup class="vue-ref" vue-id="8dd740cc-7" data-ref="cartpopup" bind:__l="__l"></cart-popup><block wx:if="{{isManyPeople}}"><block><create-cartid-popup class="vue-ref" vue-id="8dd740cc-8" data-ref="creatidpopup" bind:__l="__l"></create-cartid-popup></block></block></swiper-item><swiper-item><merchant class="vue-ref" vue-id="8dd740cc-9" data-ref="merchantRef" bind:__l="__l"></merchant></swiper-item><swiper-item><notice class="vue-ref" vue-id="8dd740cc-10" data-ref="noticeRef" bind:__l="__l"></notice></swiper-item></swiper></view>