(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/index"],{

/***/ 34:
/*!**************************************************************!*\
  !*** D:/Work/好运天天购/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/index/index.vue */ 35));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 35:
/*!*******************************************!*\
  !*** D:/Work/好运天天购/pages/index/index.vue ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=c3eed7b6& */ 36);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 38);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs




/* normalize component */

var component = Object(_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "Work/好运天天购/pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 36:
/*!**************************************************************************!*\
  !*** D:/Work/好运天天购/pages/index/index.vue?vue&type=template&id=c3eed7b6& ***!
  \**************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=c3eed7b6& */ 37);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_c3eed7b6___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 37:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Work/好运天天购/pages/index/index.vue?vue&type=template&id=c3eed7b6& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components = {
  uniBadge: function() {
    return __webpack_require__.e(/*! import() | components/uni-badge/uni-badge */ "components/uni-badge/uni-badge").then(__webpack_require__.bind(null, /*! @/components/uni-badge/uni-badge.vue */ 90))
  },
  merchant: function() {
    return __webpack_require__.e(/*! import() | components/merchant/merchant */ "components/merchant/merchant").then(__webpack_require__.bind(null, /*! @/components/merchant/merchant.vue */ 97))
  },
  notice: function() {
    return __webpack_require__.e(/*! import() | components/notice/notice */ "components/notice/notice").then(__webpack_require__.bind(null, /*! @/components/notice/notice.vue */ 102))
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l0 = _vm.__map(_vm.categoryList, function(item, index) {
    var m0 = _vm.getGoodsTypeCount(item.ID)
    var m1 = _vm.getGoodsTypeCount(item.ID)
    return {
      $orig: _vm.__get_orig(item),
      m0: m0,
      m1: m1
    }
  })

  var l2 = _vm.__map(_vm.categoryList, function(item, index) {
    var l1 = _vm.__map(_vm.goodsList, function(rowData, index2) {
      var m2 = _vm.getGoodsCount(rowData.ID)
      var m3 = _vm.getGoodsCount(rowData.ID)
      var m4 = _vm.getGoodsCount(rowData.ID)
      return {
        $orig: _vm.__get_orig(rowData),
        m2: m2,
        m3: m3,
        m4: m4
      }
    })

    return {
      $orig: _vm.__get_orig(item),
      l1: l1
    }
  })

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l0: l0,
        l2: l2
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 38:
/*!********************************************************************!*\
  !*** D:/Work/好运天天购/pages/index/index.vue?vue&type=script&lang=js& ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 39);
/* harmony import */ var _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 39:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Work/好运天天购/pages/index/index.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;








































































































































































var _websocket = _interopRequireDefault(__webpack_require__(/*! @/common/lib/websocket.js */ 15));

var _vuex = __webpack_require__(/*! vuex */ 12);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var hxNumberBox = function hxNumberBox() {__webpack_require__.e(/*! require.ensure | components/uni-number-box/uni-number-box */ "components/uni-number-box/uni-number-box").then((function () {return resolve(__webpack_require__(/*! @/components/uni-number-box/uni-number-box.vue */ 109));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var price = function price() {__webpack_require__.e(/*! require.ensure | components/common/price */ "components/common/price").then((function () {return resolve(__webpack_require__(/*! @/components/common/price.vue */ 116));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var goodsPopup = function goodsPopup() {__webpack_require__.e(/*! require.ensure | components/cart/goods-popup */ "components/cart/goods-popup").then((function () {return resolve(__webpack_require__(/*! @/components/cart/goods-popup.vue */ 121));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var cartPopup = function cartPopup() {__webpack_require__.e(/*! require.ensure | components/cart/cart-popup */ "components/cart/cart-popup").then((function () {return resolve(__webpack_require__(/*! @/components/cart/cart-popup.vue */ 126));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var createCartidPopup = function createCartidPopup() {__webpack_require__.e(/*! require.ensure | components/cart/create-cartid-popup */ "components/cart/create-cartid-popup").then((function () {return resolve(__webpack_require__(/*! @/components/cart/create-cartid-popup.vue */ 131));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var notice = function notice() {__webpack_require__.e(/*! require.ensure | components/notice/notice */ "components/notice/notice").then((function () {return resolve(__webpack_require__(/*! @/components/notice/notice.vue */ 102));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var uniBadge = function uniBadge() {__webpack_require__.e(/*! require.ensure | components/uni-badge/uni-badge */ "components/uni-badge/uni-badge").then((function () {return resolve(__webpack_require__(/*! @/components/uni-badge/uni-badge.vue */ 90));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var merchant = function merchant() {__webpack_require__.e(/*! require.ensure | components/merchant/merchant */ "components/merchant/merchant").then((function () {return resolve(__webpack_require__(/*! @/components/merchant/merchant.vue */ 97));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =

{
  components: {
    hxNumberBox: hxNumberBox,
    price: price,
    goodsPopup: goodsPopup,
    cartPopup: cartPopup,
    createCartidPopup: createCartidPopup,
    merchant: merchant,
    notice: notice,
    uniBadge: uniBadge },

  props: {},


  data: function data() {
    return {
      zindex: 90,
      showCartDrawer: false,
      showPopup: false,
      scrollH: 500, //可滑动区域高度
      tabIndex: 0,
      currentId: 1,
      categoryList: [],
      goodsList: [],
      tabScrollTop: 0,
      sizeCalcState: false,
      isFirst: true,
      cartIsOpen: false,
      //tabs
      tabs: [
      { name: '商品' },
      { name: '商家' },
      { name: '公告' }
      // {name:'平台'},
      ] };

  },
  onLoad: function onLoad() {var _this = this;
    //获取可视区域高度
    uni.getSystemInfo({
      success: function success(res) {
        _this.scrollH = res.windowHeight - uni.upx2px(75);
      } });


    this.initMerchantConfig();
  },
  computed: _objectSpread({},
  (0, _vuex.mapState)({
    cartGoodsList: function cartGoodsList(state) {return state.cart.cartGoodsList;},
    cartId: function cartId(state) {return state.cart.cartId;},
    merchantID: function merchantID(state) {return state.merchant.merchantID;},
    tableID: function tableID(state) {return state.merchant.tableID;},
    isManyPeople: function isManyPeople(state) {return state.merchant.isManyPeople;},
    isshenhe: function isshenhe(state) {return state.user.isshenhe;} }), {},

  (0, _vuex.mapGetters)([
  'getGoodsCount',
  'getGoodsTypeCount',
  'getCartCount',
  'totalPrice']), {

    getFilePaths: function getFilePaths() {
      var temp = this.goodsList;
      var tempFilePaths = [];
      for (var i = 0; i < temp.length; i++) {
        tempFilePaths.push(temp[i].TitleImgUrl);
      }
      return tempFilePaths;
    } }),

  methods: _objectSpread({},
  (0, _vuex.mapMutations)([
  'updateCartGoodsList',
  'updateMerchantInfo',
  'updateMerchantStatus']), {},

  (0, _vuex.mapActions)([
  'updateAllGoodsListFunc',
  'updateManyPeopleFunc',
  'updateCartIdFunc']), {

    initMerchantConfig: function initMerchantConfig() {
      var _self = this;
      //初始化请求商品数据
      _self.$H.post('/api/Merchant/GetMerchantConfig', {
        MerchantID: _self.merchantID },
      {
        token: true }).
      then(function (res) {
        console.log(res);
        if (res.status == 0) {
          if (res.data.OpenMultiplayerBuy == 0) {
            _self.updateManyPeopleFunc(false);
          } else if (res.data.OpenMultiplayerBuy == 1) {
            _self.updateManyPeopleFunc(true);
          }
          _self.updateMerchantStatus(res.data);
          _self.syncGoodsInfo();
        }
      });
    },
    //请求商品信息
    syncGoodsInfo: function syncGoodsInfo() {
      var _self = this;
      //初始化请求商品数据
      _self.$H.post('/api/Merchant/ProductList', {
        MerchantID: _self.merchantID },
      {
        token: true }).
      then(function (res) {
        console.log(res);
        if (res.status == 0) {
          var tempList = res.data;
          tempList.ProductTypeList.forEach(function (item, index) {
            item.indexId = index + 1;
            item.number = 0;
          });
          tempList.ProductList.forEach(function (item, index) {
            item.id = index + 1;
          });
          _self.categoryList = tempList.ProductTypeList;
          _self.goodsList = tempList.ProductList;
          _self.updateAllGoodsListFunc(_self.goodsList);
          _self.getMerchantInfo();
        }
      });
    },
    //获取商家信息
    getMerchantInfo: function getMerchantInfo() {
      var _self = this;
      var postData = {
        id: _self.merchantID };

      _self.$H.post('/api/merchant/Intro', postData).then(function (res) {
        console.log(res);
        if (res.status == 0) {
          _self.updateMerchantInfo(res.data);
          //初始化商家信息
          _self.$refs.merchantRef.initMerchantInfo(_self.scrollH);
          //初始化公告信息
          _self.$refs.noticeRef.initNoticeList(_self.scrollH);
        }
      });
    },
    previewImage: function previewImage(index) {
      var tempFilePaths = this.getFilePaths;
      uni.previewImage({
        current: index,
        urls: tempFilePaths,
        indicator: 'number',
        loop: true });

    },
    //规格选择
    choosePopup: function choosePopup(goodsId) {
      this.zindex = 90;
      this.$refs.goodspopup.showPopup(goodsId);
    },
    //购物车详情页
    openCartDetail: function openCartDetail() {
      if (this.cartId != 0) {
        if (!this.cartIsOpen) {
          this.zindex = 100;
          this.$refs.cartpopup.showCartPopup();
          this.cartIsOpen = true;
        } else {
          this.$refs.cartpopup.closeCartPopup();
          this.cartIsOpen = false;
        }
      } else {
        uni.showToast({ title: '您还没有点餐', icon: 'none' });
      }
    },
    //创建购物车ID
    openCreateCartId: function openCreateCartId() {
      this.$refs.creatidpopup.showPopup();
    },
    toSettlement: function toSettlement() {
      if (this.cartGoodsList.length > 0) {
        uni.navigateTo({
          url: '../payment/payment?cartID=' + this.cartId });

      } else {
        uni.showToast({ title: '您还没有点餐', icon: 'none' });
      }

    },
    changeTab: function changeTab(index) {
      this.tabIndex = index;
    },
    //监听滑动列表
    onChangeTab: function onChangeTab(e) {
      this.changeTab(e.detail.current);
    },
    //一级分类点击
    showCategory: function showCategory(item) {var _this2 = this;
      if (this.isFirst) {
        //点击后计算属性
        this.isFirst = false;
        this.calcSize();
        setTimeout(function () {
          _this2.showCategory(item);
        }, 200);
      } else {
        this.currentId = item.indexId;
        this.tabScrollTop = this.categoryList[item.indexId - 1].top + 5;
      }
    },
    asideScroll: function asideScroll(e) {
      var that = this;
      if (that.isFirst) {
        that.isFirst = false;
        that.calcSize();
      } else {
        var scrollTop = Math.round(e.detail.scrollTop);
        var tabs = that.categoryList.filter(function (item) {return item.top <= scrollTop;}).reverse();
        if (tabs.length > 0) {
          that.currentId = tabs.length;
        }
      }
    },
    //计算右侧栏每个tab的高度等信息
    calcSize: function calcSize() {var _this3 = this;
      var h = 0;
      this.categoryList.forEach(function (item) {
        if (!_this3.sizeCalcState) {
          var view = uni.createSelectorQuery().select("#goodsBox" + item.indexId);
          view.fields({
            size: true },
          function (data) {
            item.top = h;
            h += Math.round(data.height);
            item.bottom = h;
            _this3.sizeCalcState = true;
          }).exec();
        }
      });
    } }) };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

},[[34,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map